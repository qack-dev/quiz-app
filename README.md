# クイズアプリ

手軽に楽しめる、ブラウザベースのシンプルなクイズアプリケーションです。多彩なジャンルのクイズに挑戦し、あなたの知識を試してみましょう！

## 概要

このプロジェクトは、フロントエンドとバックエンドが分離された構成のWebアプリケーションです。

-   **フロントエンド:** PHPとJavaScriptで構築されており、ユーザーがクイズを楽しんだり、成績を確認したりするインターフェースを提供します。
-   **バックエンド:** Python (Flask) で構築されたAPIサーバーで、クイズデータの提供、回答の記録、統計情報の管理を行います。

## 主な機能

-   **クイズ機能:** 様々なカテゴリからクイズを選択し、4択問題に挑戦できます。
-   **リアルタイム翻訳:** 外部APIから取得したクイズの問題と選択肢を、日本語に自動翻訳して表示します。
-   **成績の可視化:**
    -   **正答率の推移:** 日々の正答率を折れ線グラフで確認できます。
    -   **カテゴリ別パフォーマンス:** 得意・不得意なカテゴリをヒートマップで一目で把握できます。

## 技術スタック

-   **フロントエンド:**
    -   PHP
    -   Vanilla JavaScript
    -   Chart.js (統計グラフ描画)
-   **バックエンド:**
    -   Python 3
    -   Flask (Webフレームワーク)
    -   Gunicorn (WSGIサーバー)
-   **データベース:**
    -   JSONファイル (ファイルロックによる排他制御)

## 前提条件とインストール

このアプリケーションを動作させるには、以下の環境が必要です。

-   Linux Webサーバー (Apache, Nginxなど)
-   PHP
-   Python 3
-   pip (Pythonパッケージインストーラ)

### 1. プロジェクトの配置

Webサーバーの公開ディレクトリに、このプロジェクトのファイルを配置します。

### 2. バックエンドのセットアップ

バックエンドAPIサーバーをセットアップします。

**a. Python仮想環境の作成と有効化 (推奨)**

プロジェクトのルートディレクトリで、以下のコマンドを実行して仮想環境を作成し、有効化します。

```bash
# 仮想環境を作成 (初回のみ)
python3 -m venv py_venv

# 仮想環境を有効化 (ターミナルを開くたびに実行)
source py_venv/bin/activate
```
*注意: このドキュメントでは仮想環境のパスを `py_venv` と指定していますが、任意のパスを指定できます。*

**b. 依存ライブラリのインストール**

必要なPythonライブラリをインストールします。

```bash
pip install -r backend/requirements.txt
```

## 設定方法

### APIキーの設定

このアプリケーションは、クイズの翻訳機能にDeepL APIを使用します。

1.  `backend`ディレクトリにある`.env.example`ファイルをコピーして、`.env`という名前のファイルを作成します。

    ```bash
    cp backend/.env.example backend/.env
    ```

2.  作成した`backend/.env`ファイルを開き、`YOUR_DEEPL_API_KEY_HERE`の部分を、あなたが取得したDeepLのAPIキーに置き換えてください。

    ```ini
    # backend/.env
    DEEPL_API_KEY="YOUR_DEEPL_API_KEY_HERE"
    ```

`.env`ファイルは`.gitignore`によってGitの管理対象外となっているため、APIキーがリポジトリに公開されることはありません。

## 使用方法

### 1. バックエンドサーバーの起動

ターミナルで**Python仮想環境を有効化**した後、以下のコマンドでバックエンドサーバーを起動します。

```bash
# 開発環境での実行
python3 backend/main.py

# 本番環境での実行 (推奨)
gunicorn --bind 0.0.0.0:5001 -w 4 backend.main:app
```

サーバーが `http://localhost:5001` で起動します。

### 2. フロントエンドへのアクセス

Webブラウザで、このプロジェクトを配置したURLにアクセスします。

例: `http://<your-server-ip>/quiz-app/frontend/`

## その他

### FORYOU.mdについて

`.gitignore`ファイルに`FORYOU.md`が記載されています。このファイルは、特定の開発者向けにカスタマイズされたセットアップ手順やメモを記述するためのものです。一般的な利用者や他の開発者には不要な情報が含まれる可能性があるため、Gitの管理対象から除外されています。
